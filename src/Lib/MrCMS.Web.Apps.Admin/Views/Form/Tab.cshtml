@using MrCMS.Entities.Documents.Web
@using MrCMS.Web.Apps.Admin.Infrastructure.Models.Tabs
@model MrCMS.Web.Apps.Admin.Infrastructure.Models.Tabs.AdminTabBase<Form>
@{
    var isFirst = ViewData["is-first"] is bool b && b;
    var form = ViewData["form"] as Form;
}

@if (Model is AdminTab<Form> tab)
{
    <li class="@(isFirst ?"active":"")">
        <a href="#@tab.TabHtmlId" data-toggle="tab">@tab.Name(Html, form)</a>
    </li>
}
else if (Model is AdminTabGroup<Form> @group)
{
    <li class="@(isFirst ?"active dropdown":"dropdown")">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">@(@group.Name(Html, form))&nbsp;<b class="caret"></b></a>
        <ul class="dropdown-menu">
            @foreach (var child in @group.Children)
            {
                <partial name="Tab" model="child" view-data="ViewData" />
            }
        </ul>
    </li>
}
