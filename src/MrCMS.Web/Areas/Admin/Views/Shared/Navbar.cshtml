@using System.Drawing
@using MrCMS.Helpers
@using MrCMS.Services
@using MrCMS.Services.Resources
@using MrCMS.Settings
@using MrCMS.Web.Apps.Admin.Helpers
@using MrCMS.Website
@inject SiteSettings Settings
@inject IGetCurrentUser GetCurrentUser
@{
    var typeOptions = UniversalSearchHelper.GetOptions();
    var currentUser = GetCurrentUser.Get();
}

<nav class="navbar sticky-top navbar-expand-lg navbar-light bg-white mx-0" id="mrcms-navbar">

    <button type="button" id="sidebarCollapse" class="btn btn-info">
        <i class="fa fa-align-left"></i>
    </button>

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#mrcms-top-nav" aria-controls="mrcms-top-nav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="mrcms-top-nav">

        <form class="navbar-form navbar-left form-inline ml-2" role="search" action="@Url.Action("Index", "Search")" method="GET">
            @Html.TextBox("term", "", new { @class = "search-query form-control mr-sm-2", data_search_item_term = true, placeholder = "Search", autocomplete = "off", tabindex = "1" })

            <button type="submit" class="btn btn-outline-success my-2 my-sm-0" tabindex="2">@Html.Resource("Go")</button>
        </form>

        <ul class="navbar-nav ml-auto">
            <li class="nav-item">
                <a href="/" target="new" class="nav-link"><i class="fa fa-home"></i>&nbsp;<span class="hidden-sm hidden-md hidden-lg">Home</span></a>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false"><i class="fa fa-user">&nbsp;</i>&nbsp;Your Account</a>
                <div class="dropdown-menu">
                    <a class="dropdown-item" href="/logout">Logout</a>
                    <a class="dropdown-item" href="@Url.Action("Edit", "User", new { Id = currentUser.Id })">@Html.Resource("Your Account")</a>
                </div>
            </li>
                @if (!currentUser.DisableNotifications)
                {
                    <partial name="PersistentNotificationNav" />
                }
        </ul>

    </div>


    <div class="" id="search-collapse" style="display: none;">

    </div>
    <div class="" id="right-hand-navbar" style="display: none;">
        <ul class="nav navbar-nav navbar-right">
            <li>
            </li>
            <li class="dropdown">
                
            </li>
            
            <li class="dropdown right-dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-sitemap">&nbsp;</i><span class="hidden-sm hidden-md hidden-lg">Sites</span><span class="caret"></span></a>
                <partial name="SiteListNav" />
            </li>
        </ul>
    </div>
</nav>
