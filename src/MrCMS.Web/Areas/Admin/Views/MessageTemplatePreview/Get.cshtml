@using MrCMS.Helpers
@model MrCMS.Messages.MessageTemplate
@{
    var typeInfo = new { type = Model.GetType().FullName };
}
@using (Html.BeginForm("Preview", "MessageTemplatePreview", typeInfo, FormMethod.Post, null, new { id = "preview-message-form", style = "display:inline;" }))
{
    <div style="min-height: 400px">
        <h1 class="page-header">
            @Html.Resource("Admin Message Template Preview Title", "Preview message template")
            <span class="btn-group pull-right">
                @Html.ActionLink("Back to list", "Index", "MessageTemplate", null, new { @class = "btn btn-secondary" })
                @Html.ActionLink("Edit", "Edit", "MessageTemplate", typeInfo, new { @class = "btn btn-secondary" })
                <input type="submit" class="btn btn-primary" value="@Html.Resource("Preview")" />
            </span>
        </h1>

        <div class="form-group">
            @Html.Label("id", @Model.ModelType.Name.BreakUpString() + " Id")
            @Html.TextBox("id", "1", new { @class = "form-control" })
        </div>
        <hr />

        <div id="preview">
        </div>
    </div>
}

@{ Html.IncludeScript("~/Areas/Admin/scripts/preview-message-template.js");}
